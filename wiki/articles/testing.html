<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Testing</title>
  <meta property="og:title" content="Testing" />






<link rel="canonical" href="bossiernesto.github.io/wiki/articles/testing.html" />
<meta property="og:url" content="bossiernesto.github.io/wiki/articles/testing.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-02-02T19:28:44-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/uqbar-wiki-proposal/favicon.ico" >
    <link type="text/plain" rel="author" href="/uqbar-wiki-proposal/humans.txt"/>

    <link rel="stylesheet" href="/uqbar-wiki-proposal/assets/app-ce8dd519ee762abf28c16f11faacee90.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a href="/uqbar-wiki-proposal/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Help</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/Frequently-Asked-Questions.html">Frequently Asked Questions</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/como-empezar.html">como-empezar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navigation</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/paradigma-de-programacion.html">paradigma de programacion</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/design-temario.html">design temario</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/tecnicas-avanzadas-de-programacion.html">tecnicas avanzadas de programacion</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/programacion-de-interfaces-de-usuario.html">programacion de interfaces de usuario</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/algo3-temario.html">algo3 temario</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/programacion-con-herramientas-modernas.html">programacion con herramientas modernas</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows">
        <img src="/uqbar-wiki-proposal/img/uqbar_logo.png">
    </div>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Link List" role="menu">
        <li class="button" role="menuitem"><a href="/uqbar-wiki-proposal/">Home</a></li>
        <li class="button" role="menuitem"><a href="/uqbar-wiki-proposal/articles">Lista de articulos</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        Testing
    </h1>
</div>

<div id="article_content">
    <p>Probar una aplicación permite verificar que el sistema (o una parte de él) funciona de acuerdo a lo especificado. Los tests permiten bajar la incertidumbre y aumentar la confianza que tenemos sobre el software que desarrollamos.</p>

<p>Hay diferentes formas de probar una aplicación, por ejemplo si tiene una interfaz de usuario el testeo podría realizarse manualmente siguiendo los pasos necesarios (eligiendo opciones de algún menú, llenando formularios, etc) para verificar que el sistema responde de la forma esperada. Programáticamente estamos acostumbrados a probar el sistema usando la funcionalidad desarrollada desde el mismo entorno de desarrollo, por ejemplo escribiendo en un workspace de Smalltalk. Supongamos que tenemos este ejemplo:</p>

<p><code class="highlighter-rouge">#Golondrina</code>
<code class="highlighter-rouge">&gt;&gt; puedeVolar</code>
<code class="highlighter-rouge">    ^ self energia &gt; 20</code>
<code class="highlighter-rouge">&gt;&gt; vola: unosKilometros</code>
<code class="highlighter-rouge">    self puedeVolar ifFalse: [ NoPuedeVolarError signal ].</code>
<code class="highlighter-rouge">    self energia: self energia - (unosKilometros * 2 - 8)</code></p>

<p><code class="highlighter-rouge">pepita := Golondrina new.</code>
<code class="highlighter-rouge">pepita energia: 100.</code>
<code class="highlighter-rouge">pepita vola: 25. "Le resta 25*2+8 de energía"</code>
<code class="highlighter-rouge">pepita energia. "Debería retornar 42"</code>
<code class="highlighter-rouge">pepita puedeVolar. "Me debería decir que sí porque tiene más de 20 de energía"</code>
<code class="highlighter-rouge">pepita vola: 10. "Le resta 10*2+8 de energía"</code>
<code class="highlighter-rouge">pepita puedeVolar. "Me debería decir que no porque tiene menos de 20 de energía"</code>
<code class="highlighter-rouge">pepita vola: 1. "Debería explotar porque pepita no puede volar"</code></p>

<p>Y al ejecutar ese workspace se puede verificar si el valor retornado por el mensaje energia luego de volar 20 kilómetros retorna el valor que esperamos que retorne, si pepita puede volar cuando tiene más de 20 de energía y que no puede cuando tiene menos, y si efectivamente ocurre un error si se intenta volar cuando pepita no puede volar.</p>

<p>Sin embargo existe otra forma de realizar pruebas de forma programática que permite automatizar todo el proceso de testeo, ya que verificar que el valor de la energía de pepita sea el esperado es algo que hay que hacer manualmente. En Smalltalk vamos a usar un framework llamado SUnit (existe también para otros lenguajes con otro nombre, búsquenlo, aprovéchenlo!) que lo que permite es codificar no sólo los pasos que describen la prueba, sino también la validación de los resultados esperados.</p>

<p>Automatizar las pruebas requiere un esfuerzo extra, pero es una gran inversión porque esas pruebas quedan disponibles para ser ejecutadas N veces en el futuro. A medida que el sistema crece, la cantidad de casos a probar para verificar que el sistema completo está bien construido aumenta muchísimo, y poder asegurar que toda la funcionalidad que programé ahora y que fue programada antes sigue funcionando es muy valioso.</p>

<h2 id="testing-con-sunit">Testing con SUnit</h2>

<p>Veamos cómo quedaría el ejemplo anterior, que estaba suelto en un workspace, usando SUnit. En primer lugar, ya no va a estar suelto sino que tiene que estar en un método de una clase de prueba, para indicar que es una clase de prueba y puede ser corrida como tal por la herramienta, la misma debe heredar de TestCase.</p>

<p><code class="highlighter-rouge">TestCase subclass: #GolondrinaTest</code>
<code class="highlighter-rouge">   instanceVariableNames: ''</code>
<code class="highlighter-rouge">   classVariableNames: ''</code>
<code class="highlighter-rouge">   poolDictionaries: ''</code>
<code class="highlighter-rouge">   category: 'Pepita-Testing'</code></p>

<p>Luego podemos agregar el método para verificar que cuando pepita vuela pierde energia en función de la cantidad de kilómetros volados. Lo que nos requiere el framework es que los nombres de los métodos que yo quiera que se corran como pruebas empiecen con la palabra test, lo que nos requieren las buenas prácticas y nuestra salud mental es que el resto del nombre describa lo mejor posible qué es lo que ese método pretende testear. También es importante poder separar la lógica en unidades atómicas e independientes, de modo que cada método de test tenga un único objetivo.</p>

<p><code class="highlighter-rouge">#GolondrinaTest &gt;&gt; testCuandoPepitaVuelaPierdeEnergiaEnBaseALosKilometrosVolados</code>
<code class="highlighter-rouge">   |pepita|</code>
<code class="highlighter-rouge">   pepita := Golondrina new.</code>
<code class="highlighter-rouge">   pepita energia: 100.</code>
<code class="highlighter-rouge">   pepita vola: 25.</code>
<code class="highlighter-rouge">   </code><strong><code class="highlighter-rouge">self</code> <code class="highlighter-rouge">assert:</code> <code class="highlighter-rouge">pepita</code> <code class="highlighter-rouge">energia</code> <code class="highlighter-rouge">equals:</code> <code class="highlighter-rouge">42.</code></strong></p>

<p>El mensaje assert:equals: lo que hace es verificar que el resultado de una expresión sea igual a un objeto esperado.</p>

<p>Si al correr este caso de prueba pepita efectivamente queda con una energía de 42, el resultado del test será correcto (lo cual se muestra con algún indicador verde que dependerá de la herramienta, como ser una bolita al lado del método).</p>

<p>Si el resultado de pepita energia es otro valor, como por ejemplo 100 (porque nuestro método vola: existe pero no hace nada) el test falla, indicándose con otro color como ser amarillo, lo cual debe interpretarse como que el código se pudo ejecutar sin problemas pero el resultado obtenido fue distinto al esperado. Cuando esto sucede hay que corregir el problema que bien podría estar en el código de vola: como en el método de test porque no describe lo que realmente debería pasar, con lo cual lo que uno hace en estas situaciones por lo general es debuggear el método de test y analizar qué sucede a medida que se ejecuta el código para encontrar el problema.</p>

<p>Finalmente otra cosa que podría pasar es que el código no funcione, por ejemplo si pepita no entiende el mensaje vola: se genera un error y no se puede terminar la ejecución del test, indicándose con color rojo.</p>

<p>Continuemos con los casos de prueba que nos faltan. Si yo quiero testear cuándo puede volar pepita podríamos tener dos métodos diferentes, uno para verificar cuándo sí puede, y otro para verificar cuándo no.</p>

<p><code class="highlighter-rouge">#GolondrinaTest &gt;&gt; testPepitaPuedeVolarSiTieneMasDe20DeEnergia</code>
<code class="highlighter-rouge">   |pepita|</code>
<code class="highlighter-rouge">   pepita := Golondrina new.</code>
<code class="highlighter-rouge">   pepita energia: 100.</code>
<code class="highlighter-rouge">   </code><strong><code class="highlighter-rouge">self</code> <code class="highlighter-rouge">assert:</code> <code class="highlighter-rouge">pepita</code> <code class="highlighter-rouge">puedeVolar</code></strong></p>

<p>El mensaje assert: recibe una expresión booleana, si esa expresión retorna true se considera correcto. Para hacer el otro caso en donde queremos validar que no pueda volar podríamos también usar assert: negando la condición (pepita puedeVolar not) o alternativamente usar el mensaje deny: que se verifica si la condición recibida es falsa.</p>

<p><code class="highlighter-rouge">#GolondrinaTest &gt;&gt; testPepitaNoPuedeVolarSiTieneMenosDe20DeEnergia</code>
<code class="highlighter-rouge">   |pepita|</code>
<code class="highlighter-rouge">   pepita := Golondrina new.</code>
<code class="highlighter-rouge">   pepita energia: 10.</code>
<code class="highlighter-rouge">   </code><strong><code class="highlighter-rouge">self</code> <code class="highlighter-rouge">deny:</code> <code class="highlighter-rouge">pepita</code> <code class="highlighter-rouge">puedeVolar</code></strong></p>

<p>Por último queríamos verificar que si pepita no puede volar y le pedimos que vuele tiene que tirar un error. Si tuviéramos este código:</p>

<p><code class="highlighter-rouge">#GolondrinaTest &gt;&gt; testSiPepitaDebeVolarYNoPuedeTiraError</code>
<code class="highlighter-rouge">   |pepita|</code>
<code class="highlighter-rouge">   pepita := Golondrina new.</code>
<code class="highlighter-rouge">   pepita energia: 10.</code>
<code class="highlighter-rouge">   pepita vola: 1.</code></p>

<p>Cuando corramos este test, si efectivamente tira error porque no puede volar, el resultado que nos va a mostrar la herramienta será ROJO. Pero si nosotros queríamos verificar que tire error, cómo hacemos para transformar ese ROJO en VERDE?</p>

<p><code class="highlighter-rouge">#GolondrinaTest &gt;&gt; testSiPepitaDebeVolarYNoPuedeTiraError</code>
<code class="highlighter-rouge">   |pepita|</code>
<code class="highlighter-rouge">   pepita := Golondrina new.</code>
<code class="highlighter-rouge">   pepita energia: 10.</code>
<code class="highlighter-rouge">   </code><strong><code class="highlighter-rouge">self</code> <code class="highlighter-rouge">should:</code> <code class="highlighter-rouge">[pepita</code> <code class="highlighter-rouge">vola:</code> <code class="highlighter-rouge">1]</code> <code class="highlighter-rouge">raise:</code> <code class="highlighter-rouge">NoPuedeVolarError</code></strong></p>

<p>El mensaje should:raise: espera un bloque que podría tirar error al evaluarlo, y en el caso de que suceda y el error sea instancia de la clase NoPuedoVolarError (o de alguna subclase) el resultado será verde. Si el error no sucede, el resultado será amarillo para indicar que no sucedió lo que se esperaba. También existe la versión contraria shouldnt:raise: que verifica que el bloque no tire error.</p>

<h2 id="armando-un-escenario">Armando un escenario</h2>

<p>En todos los casos anteriores lo primero que hacemos es crear la golondrina y settearle una cantidad de energía que corresponda (una con 100 para que pueda volar, otra con 10 para que no pueda). Suponiendo que por defecto vamos a querer usar una golondrina que puede volar, con lo cual tener a pepita con 100 de energía inicial, podríamos definir que antes de correr cada método de prueba de la clase GolondrinaTest hay que crear a pepita e inicializarla de esa forma. Para eso el framework nos pide que definamos un método llamado setUp de modo que todo lo que quiera que suceda antes de cada test se haga ahí, y luego sólo uso lo que se haya generado en los métodos de test.</p>

<p><code class="highlighter-rouge">#GolondrinaTest &gt;&gt; setUp</code>
<code class="highlighter-rouge">  pepita := Golondrina new. "Nótese que pepita es una variable de instancia de la clase GolondrinaTest"</code>
<code class="highlighter-rouge">  pepita energia: 100.</code></p>

<p>Luego podemos sólo hacer lo siguiente asumiento que pepita existe y tiene 100 de energía.</p>

<p><code class="highlighter-rouge">#GolondrinaTest &gt;&gt; testPepitaPuedeVolarSiTieneMasDe20DeEnergia</code>
<code class="highlighter-rouge">  self assert: pepita puedeVolar</code></p>

<p>Pueden ver otros ejemplos usando tanto SUnit nativo como con LOOP en este apunte: <a href="https://4924d24e-a-62cb3a1a-s-sites.googlegroups.com/site/paradigmasdeprogramacion/Cursos/sabados-a-la-manana-anual-2012/PruebasUnitariasEnSmalltalk.pdf?attachauth=ANoY7cr7qvrGe95WAgr7-ZrpqizA8HqB-2kPZ7kAk11zguNxsyp95NGD6aY9ol2dz9yT6hHVwGxE0sn4I4Ifo_Vm5K2BNYMo6WiFxa8fIYAkBhmrXUAKtsHBrjrQfcMVnaPzB-EP3dqcoFsbFC6tKTKondZAWfSDMr84oJdxnNSUJ4dNg9Ge2dziPVFRPtmeLT84gC8qvSzQ-PAYyU6yGmxqR8LzynBHC1nSwEtGSrQmFOQxt3-V7AsQF_fhhVp_k8V0Fn_1puBTyqOFg-CgZtcCvLrAD-w5jfYeulkPljDR2mQTUXpwhBRdkI7_NnDBCONjLzl9F5Ra&amp;attredirects=0">Apunte de Testing en Smalltalk (con y sin LOOP)</a></p>

</div>

<div id="article_disqus">
    <div id="disqus_thread">

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tadp-wiki'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>

    <a href="http://disqus.com" class="dsq-brlink">
        comments powered by <span class="logo-disqus">Disqus</span>
    </a>

</div>

</div>

<div id="article_metadata">
    <p>Latest update on February 02, 2017 by
        Ernesto Bossi</p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>2</td>
                                <td>108</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Ernesto Bossi</td>
                                <td>bossi.e...</td>
                                <td>1</td>
                            </tr>
                            
                            <tr>
                                <td>Mmatos</td>
                                <td>Mmatos@...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>bef5abaa</td>
                        <td>Thu Feb 2 19:24:04 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>build up initial migration with old commits</td>
                    </tr>
                    
                    <tr>
                        <td>082351af</td>
                        <td>Thu Feb 2 19:13:51 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>Página creada con «Probar una aplicación permite verificar que el sistema (o una parte de él) funciona de acuerdo a lo especificado. Los tests permiten bajar la incertidumbre y aumentar la ...»</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer/Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/uqbar-wiki-proposal/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/uqbar-wiki-proposal/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/uqbar-wiki-proposal/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/uqbar-wiki-proposal/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/uqbar-wiki-proposal/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/uqbar-wiki-proposal/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/uqbar-wiki-proposal/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
