<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Tipo abstracto de datos</title>
  <meta property="og:title" content="Tipo abstracto de datos" />






<link rel="canonical" href="bossiernesto.github.io/wiki/articles/tipo-abstracto-de-datos.html" />
<meta property="og:url" content="bossiernesto.github.io/wiki/articles/tipo-abstracto-de-datos.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-02-01T22:45:08-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/uqbar-wiki-proposal/favicon.ico" >
    <link type="text/plain" rel="author" href="/uqbar-wiki-proposal/humans.txt"/>

    <link rel="stylesheet" href="/uqbar-wiki-proposal/assets/app-ce8dd519ee762abf28c16f11faacee90.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a href="/uqbar-wiki-proposal/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Help</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/Frequently-Asked-Questions.html">Frequently Asked Questions</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/como-empezar.html">como-empezar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navigation</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/paradigma-de-programacion.html">paradigma de programacion</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/design-temario.html">design temario</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/tecnicas-avanzadas-de-programacion.html">tecnicas avanzadas de programacion</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/programacion-de-interfaces-de-usuario.html">programacion de interfaces de usuario</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/algo3-temario.html">algo3 temario</a></li>
                    <li><a class="link article_link" href="/uqbar-wiki-proposal/wiki/articles/programacion-con-herramientas-modernas.html">programacion con herramientas modernas</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows">
        <img src="/uqbar-wiki-proposal/img/uqbar_logo.png">
    </div>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Link List" role="menu">
        <li class="button" role="menuitem"><a href="/uqbar-wiki-proposal/">Home</a></li>
        <li class="button" role="menuitem"><a href="/uqbar-wiki-proposal/articles">Lista de articulos</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        Tipo abstracto de datos
    </h1>
</div>

<div id="article_content">
    <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">Concepto</span></a>
            </li>
            <li class="toc_level-1 toc_section-2">
              <a href="#tocAnchor-1-2"><span class="tocnumber">2</span> <span class="toctext">Implementaciones de TADs</span></a>
              <ul>
                <li class="toc_level-2 toc_section-3">
                  <a href="#tocAnchor-1-2-1"><span class="tocnumber">2.1</span> <span class="toctext">En C</span></a>
                </li>
                <li class="toc_level-2 toc_section-4">
                  <a href="#tocAnchor-1-2-2"><span class="tocnumber">2.2</span> <span class="toctext">En Haskell</span></a>
                </li>
              </ul>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h1 id="tocAnchor-1-1">Concepto</h1>

<ul>
  <li><a href="http://c2.com/cgi/wiki?AbstractDataType">http://c2.com/cgi/wiki?AbstractDataType</a></li>
  <li><a href="http://es.wikipedia.org/wiki/Tipo_de_dato_abstracto">http://es.wikipedia.org/wiki/Tipo_de_dato_abstracto</a></li>
</ul>

<h1 id="tocAnchor-1-2">Implementaciones de TADs</h1>

<h2 id="tocAnchor-1-2-1">En C</h2>

<ul>
  <li>Definir si se lo pasará por valor o por referencia</li>
  <li>Codificar el .h con las declaraciones de las funciones</li>
  <li>Si usa memoria dinámica, definir una operación para la destrucción del TAD</li>
  <li>Definir la estructura a emplear. Si lo hacemos en el .c o en el .h depende del grado de desacomplamiento que busquemos y nivel de paranoia que tengamos. Tambien hace mas compleja la implementación</li>
  <li>Definir sinónimos de tipos para la estructura.</li>
  <li>Implementar las funciones en .c</li>
</ul>

<h3 id="convenciones">Convenciones</h3>

<p>Si bien para implementar un TAD no es necesario seguir ninguna convención en particular, dado que C no tiene un soporte nativo para los mismos, y por tanto hay varias formas de implementarlos, es recomendable seguir convenciones para mantener consistencia en sus implemenentaciones y facilitar la comprensión del código a los demás programadores (o a uno mismo en el futuro). Nosotros aquí sugerimos la siguiente:</p>

<ul>
  <li>Escribir los tipos en CamelCase. Por ejemplo <em>AerolineaLanchita</em></li>
  <li>Escribir las operaciones en snake_case.</li>
  <li>Dado que nuestros TADs no presentarán polimorfismo (al menos no el los ejemplos básicos), las operaciones estarán prefijadas por el tipo de dato, en snake case. Esto se hará así para evitar colisiones en el espacio de nombres, y facilitar el autocompletado por parte del IDE. Por ejemplo <em>areolinea_lanchita_comprar(char * codigo_pasaje)</em></li>
  <li>Las operaciones privadas del TAD las declararemos y definiremos dentro del .c, prefijandolas con guión bajo, y declarandolas static</li>
  <li>Respetaremos todas las buenas prácticas de programación que ya conocemos de paradigmas: delegación, expresividad, declaratividad (hasta donde podamos)</li>
</ul>

<h3 id="ejemplo-un-búffer">Ejemplo: Un búffer</h3>

<p>Un búffer es una estructura de datos similar a una cola, diseñada para permitir el agregado de elementos o lotes de elementos homogeneos de forma eficiente, al final del mismom controlando su capacidad y taza de expansión para reducir al mínimo las operaciones de gestión de memoria. A diferencia de una cola, los elementos del buffer no se sacan de a uno, sino que se extraen también en lotes. Buffers más avanzados soportan también punteros internos para delimitar regiones dentro del mismo.</p>

<p>Por sus características, los buffers son usados típicamente para almacenar bytes o caracteres.</p>

<p>Modelaremos un buffer de caracteres. Este soportará las siguientes operaciones:</p>

<ul>
  <li>Creación: se creará con un tamaño inicial fijado por el usuario</li>
  <li>Concatenación: ofrecerá una operación para agregar un solo caracter, y otra para agregar un conjunto de caracteres.</li>
  <li>Extracción: expondrá una operación para extraer todos los caracteres como un char*. Una vez devuelto, es importante que el buffer pierda toda referencia al array original</li>
  <li>Destrucción: expondrá una operación para destruir el buffer. Es importante que libere no solo la memoria usada por el buffer, sino también, la memoria del contenido del mismo, si no fue ya devuelto.</li>
</ul>

<h4 id="declaración-de-las-operaciones">Declaración de las operaciones</h4>

<p>Pensar las operaciones no se trata tan solo de pensar que funcionalidad expondrá, sino también, y en particular cuando tenemos TADs con estado mutable, pensar cuales son las precondiciones y postcondiciones de las mismas, y las invariantes del TAD.</p>

<p>Esta no es solo una buena práctica de diseño estructurado, sino que puede ser muy beneficiosa a la hora de trabajar en cualquier paradigma. Es decir, para especificar correctamente una operación no basta con indicar su firma/tipo y su semántica, sino también sus restricciones operacionales.</p>

<p>Estas declaraciones las colocaremos en un .h</p>

<p><code class="highlighter-rouge">Buffer * buffer_new(int max_size);</code>
<code class="highlighter-rouge">void buffer_append_char(Buffer * self, char aChar);</code>
<code class="highlighter-rouge">void buffer_append_chars(Buffer * self, char * chars, int count);</code>
<code class="highlighter-rouge">char * buffer_extract(Buffer * self);</code>
<code class="highlighter-rouge">int  buffer_current_size(Buffer * self);</code>
<code class="highlighter-rouge">void buffer_delete(Buffer ** self);</code></p>

<h4 id="definición-de-la-estructura-interna">Definición de la estructura interna</h4>

<p>
  <em>Para mas detalles sobre la sintaxis, ver <a href="typedefs-y-tipos-anonimos.md">Typedefs y tipos anónimos</a></em>
</p>

<p>Para modelar la estructura interna del buffer, utilizaremos un <em>struct</em>, que tendrá un campo por cada atributo de nuestro TAD: contenido, tamaño máximo y tamaño actual.</p>

<p><code class="highlighter-rouge">typedef struct {</code>
<code class="highlighter-rouge">  char * content;</code>
<code class="highlighter-rouge">  int current_size;</code>
<code class="highlighter-rouge">  int max_size;</code>
<code class="highlighter-rouge">} Buffer;</code></p>

<h4 id="definición-de-las-operaciones">Definición de las operaciones</h4>

<p>
  <em>Para mas detalles sobre las funciones de manejo de memoria, ver <a href="manejo-de-memoria-en-c.md">Manejo de memoria en C</a></em>
</p>

<p>
  <em>El código completo se encuentra <a href="http://svn2.xp-dev.com/svn/uqbar/examples/dds/estructurado/buffer">aquí</a></em>
</p>

<p>La primera operación que debemos soportar es la instanciación del TAD. Esta operación debe tomar un tamaño máximo inicial, y reservar la memoria necesaria para el buffer en sí mismo, y el vector de memoria donde se copiarán los contenidos. También debe inicializar los atributos del TAD.</p>

<p>Por convención y analogía con objetos, llamaremos a esta operación <strong>new</strong>:</p>

<p><code class="highlighter-rouge">Buffer * buffer_new(int max_size) {</code>
<code class="highlighter-rouge">  Buffer * self = instance_new(Buffer);</code>
<code class="highlighter-rouge">  self-&gt;content = instance_new_array(char, max_size);</code>
<code class="highlighter-rouge">  self-&gt;current_size = 0;</code>
<code class="highlighter-rouge">  self-&gt;max_size = max_size;</code>
<code class="highlighter-rouge">  return self;</code>
<code class="highlighter-rouge">}</code></p>

<p>La contrapartida de la instanciación del TAD es la destrucción del mismo. En ambientes con Garbage Collector esto no es normalmente necesario, por lo que no existe operación análoga en objetos. Por convención, la llamaremos <strong>delete</strong>:</p>

<p><code class="highlighter-rouge">void buffer_delete(Buffer ** self) {</code>
<code class="highlighter-rouge">  if( (*self)-&gt;content != NULL ) {</code>
<code class="highlighter-rouge">    instance_delete((*self)-&gt;content);</code>
<code class="highlighter-rouge">  }</code>
<code class="highlighter-rouge">  instance_delete(*self);</code>
<code class="highlighter-rouge">}</code></p>

<p>Nótese que esta operación toma como argumento una doble indirección a un Buffer.</p>

<p>En este caso particular, el enunciado nos plantea que solo se debe liberar la memoria del contenido del buffer, si y solo si no se ha devuelto el contenido al usuario del TAD. Para resolver esto, señalizaremos un contenido entregado al usuario setéandolo en NULL.</p>

<p>Esto mismo debemos considerarlo a la hora de justamente devolver ese contenido, mediante la operación <strong>extract</strong>. Para cumplir con la precondición de que el contenido no ha sido devuelto antes, agregaremos una aserción:</p>

<p><code class="highlighter-rouge">char * buffer_extract(Buffer * self) {</code>
<code class="highlighter-rouge">  assert(self-&gt;content != NULL);</code>
<code class="highlighter-rouge">  buffer_append_char(self, '\0');</code>
<code class="highlighter-rouge">  char * content = self-&gt;content;</code>
<code class="highlighter-rouge">  self-&gt;content = NULL;</code>
<code class="highlighter-rouge">  return content;</code>
<code class="highlighter-rouge">}</code></p>

<p>Luego tenemos que encarar el problema de agregar caracteres. Llamaremos a esta operación <em>‘apend_chars</em>, que tomará como parámetro el vector de caracteres a copiar, y su longitud.</p>

<p>La operación no es trivial: debemos considerar que si no hay suficiente espacio en el buffer (es decir, la diferencia entre el tamaño actual y el máximo es menor a la longitud del vector), deberemos redimesionar el buffer de forma eficiente.</p>

<p>Sin embargo, aún así podemos comenzar a atacar el problema, delegando apropiadamente:</p>

<p><code class="highlighter-rouge">void buffer_append_chars(Buffer * self, char * chars, int count){</code>
<code class="highlighter-rouge">  _buffer_expand(self, count);</code>
<code class="highlighter-rouge">  memcpy(self-&gt;content + self-&gt;current_size, chars, count);</code>
<code class="highlighter-rouge">  self-&gt;current_size += count;</code>
<code class="highlighter-rouge">}</code></p>

<p>Es decir, decimos que para copiar un vector de caracteres al final del buffer, debemos expandir nuestro buffer tanto como sea necesario para almacenar los caracteres, y luego procedemos a efectivamente realizar la copia y actualizar el tamaño actual. Ahora, tenemos un problema un poco mas simple: solo debemos preocuparnos por redimensionar el buffer, de ser necesario.</p>

<p>Dado que <strong>_buffer_expand</strong> no será usada desde el exterior (es una operación interna), no la colocamos en nuestro .h.</p>

<h2 id="tocAnchor-1-2-2">En Haskell</h2>

<p>Ejemplo: una red neuronal</p>

</div>

<div id="article_disqus">
    <div id="disqus_thread">

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tadp-wiki'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
        Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>

    <a href="http://disqus.com" class="dsq-brlink">
        comments powered by <span class="logo-disqus">Disqus</span>
    </a>

</div>

</div>

<div id="article_metadata">
    <p>Latest update on February 01, 2017 by
        Ernesto Bossi</p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>134</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Ernesto Bossi</td>
                                <td>bossi.ernestog@gmail.com</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>68991a7</td>
                        <td>Wed Feb 1 20:05:13 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>add wiki pages for demo</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer/Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/uqbar-wiki-proposal/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/uqbar-wiki-proposal/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/uqbar-wiki-proposal/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/uqbar-wiki-proposal/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/uqbar-wiki-proposal/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/uqbar-wiki-proposal/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/uqbar-wiki-proposal/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/uqbar-wiki-proposal/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
